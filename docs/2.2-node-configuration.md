[Index your code with Devin](/private-repo)

[DeepWiki](/)

[DeepWiki](/)

[stable-net/go-stablenet](https://github.com/stable-net/go-stablenet "Open repository")

[

Index your code with

Devin

](/private-repo)Edit WikiShare

Last indexed: 29 November 2025 ([422cf1](https://github.com/stable-net/go-stablenet/commits/422cf168))

-   [StableNet Overview](/stable-net/go-stablenet/1-stablenet-overview)
-   [Getting Started](/stable-net/go-stablenet/2-getting-started)
-   [Installation and Building](/stable-net/go-stablenet/2.1-installation-and-building)
-   [Node Configuration](/stable-net/go-stablenet/2.2-node-configuration)
-   [Genesis Setup and Network Types](/stable-net/go-stablenet/2.3-genesis-setup-and-network-types)
-   [Core Architecture](/stable-net/go-stablenet/3-core-architecture)
-   [Node Initialization and Lifecycle](/stable-net/go-stablenet/3.1-node-initialization-and-lifecycle)
-   [Blockchain Management](/stable-net/go-stablenet/3.2-blockchain-management)
-   [State Management](/stable-net/go-stablenet/3.3-state-management)
-   [Transaction Pool](/stable-net/go-stablenet/3.4-transaction-pool)
-   [Transaction Types and Encoding](/stable-net/go-stablenet/3.5-transaction-types-and-encoding)
-   [Consensus and Block Production](/stable-net/go-stablenet/4-consensus-and-block-production)
-   [Anzeon WBFT Consensus Protocol](/stable-net/go-stablenet/4.1-anzeon-wbft-consensus-protocol)
-   [Block Production and Mining](/stable-net/go-stablenet/4.2-block-production-and-mining)
-   [Validator Management](/stable-net/go-stablenet/4.3-validator-management)
-   [Governance System](/stable-net/go-stablenet/5-governance-system)
-   [System Contracts Overview](/stable-net/go-stablenet/5.1-system-contracts-overview)
-   [NativeCoinAdapter Contract](/stable-net/go-stablenet/5.2-nativecoinadapter-contract)
-   [GovValidator Contract](/stable-net/go-stablenet/5.3-govvalidator-contract)
-   [Minting and Burning Governance](/stable-net/go-stablenet/5.4-minting-and-burning-governance)
-   [Mint and Burn Protocol](/stable-net/go-stablenet/5.5-mint-and-burn-protocol)
-   [Transaction Processing](/stable-net/go-stablenet/6-transaction-processing)
-   [Transaction Lifecycle](/stable-net/go-stablenet/6.1-transaction-lifecycle)
-   [State Transitions](/stable-net/go-stablenet/6.2-state-transitions)
-   [EVM Execution](/stable-net/go-stablenet/6.3-evm-execution)
-   [Gas Fee Policy](/stable-net/go-stablenet/6.4-gas-fee-policy)
-   [Networking](/stable-net/go-stablenet/7-networking)
-   [P2P Server and Peer Management](/stable-net/go-stablenet/7.1-p2p-server-and-peer-management)
-   [Peer Discovery](/stable-net/go-stablenet/7.2-peer-discovery)
-   [Chain Synchronization](/stable-net/go-stablenet/7.3-chain-synchronization)
-   [Protocol Handlers](/stable-net/go-stablenet/7.4-protocol-handlers)
-   [RPC API](/stable-net/go-stablenet/8-rpc-api)
-   [API Services and Namespaces](/stable-net/go-stablenet/8.1-api-services-and-namespaces)
-   [Event Filtering and Subscriptions](/stable-net/go-stablenet/8.2-event-filtering-and-subscriptions)
-   [Transaction Submission and Signing](/stable-net/go-stablenet/8.3-transaction-submission-and-signing)
-   [Storage Architecture](/stable-net/go-stablenet/9-storage-architecture)
-   [Database Layer](/stable-net/go-stablenet/9.1-database-layer)
-   [State Tries and Merkle Patricia Trees](/stable-net/go-stablenet/9.2-state-tries-and-merkle-patricia-trees)
-   [Snapshots and Caching](/stable-net/go-stablenet/9.3-snapshots-and-caching)
-   [Development Tools](/stable-net/go-stablenet/10-development-tools)
-   [Building and CI/CD](/stable-net/go-stablenet/10.1-building-and-cicd)
-   [devp2p Tools](/stable-net/go-stablenet/10.2-devp2p-tools)
-   [Data Import and Export Utilities](/stable-net/go-stablenet/10.3-data-import-and-export-utilities)
-   [Testing Framework](/stable-net/go-stablenet/10.4-testing-framework)
-   [JavaScript Console](/stable-net/go-stablenet/10.5-javascript-console)
-   [Operations Guide](/stable-net/go-stablenet/11-operations-guide)
-   [Network Types and Deployment](/stable-net/go-stablenet/11.1-network-types-and-deployment)
-   [Validator Operations](/stable-net/go-stablenet/11.2-validator-operations)
-   [Node Monitoring and Maintenance](/stable-net/go-stablenet/11.3-node-monitoring-and-maintenance)

Menu

# Node Configuration

Relevant source files

-   [cmd/utils/cmd.go](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/cmd.go)
-   [cmd/utils/flags.go](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go)
-   [core/chain\_makers.go](https://github.com/stable-net/go-stablenet/blob/422cf168/core/chain_makers.go)
-   [core/genesis.go](https://github.com/stable-net/go-stablenet/blob/422cf168/core/genesis.go)
-   [core/genesis\_alloc.go](https://github.com/stable-net/go-stablenet/blob/422cf168/core/genesis_alloc.go)
-   [core/genesis\_test.go](https://github.com/stable-net/go-stablenet/blob/422cf168/core/genesis_test.go)
-   [core/state/pruner/pruner.go](https://github.com/stable-net/go-stablenet/blob/422cf168/core/state/pruner/pruner.go)
-   [eth/backend.go](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/backend.go)
-   [eth/ethconfig/config.go](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go)
-   [eth/ethconfig/gen\_config.go](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/gen_config.go)
-   [ethclient/simulated/wbft\_backend.go](https://github.com/stable-net/go-stablenet/blob/422cf168/ethclient/simulated/wbft_backend.go)
-   [miner/miner.go](https://github.com/stable-net/go-stablenet/blob/422cf168/miner/miner.go)
-   [miner/miner\_test.go](https://github.com/stable-net/go-stablenet/blob/422cf168/miner/miner_test.go)
-   [miner/worker.go](https://github.com/stable-net/go-stablenet/blob/422cf168/miner/worker.go)
-   [miner/worker\_test.go](https://github.com/stable-net/go-stablenet/blob/422cf168/miner/worker_test.go)
-   [params/bootnodes.go](https://github.com/stable-net/go-stablenet/blob/422cf168/params/bootnodes.go)
-   [params/config.go](https://github.com/stable-net/go-stablenet/blob/422cf168/params/config.go)

This page provides a comprehensive guide to configuring a StableNet node through command-line flags and configuration files. It covers network selection, data directories, sync modes, mining, RPC APIs, and P2P networking settings.

For information about building the `gstable` binary, see [Installation and Building](/stable-net/go-stablenet/2.1-installation-and-building). For setting up genesis configurations for new networks, see [Genesis Setup](/stable-net/go-stablenet/2.3-genesis-setup-and-network-types).

## Configuration Methods

StableNet nodes can be configured through two primary methods:

1.  **Command-line flags**: Passed directly when starting `gstable`
2.  **TOML configuration files**: Specified with `--config <file.toml>`

Configuration values are applied in the following priority order (highest to lowest):

-   Command-line flags
-   Configuration file values
-   Default values

When both a config file and CLI flags are provided, CLI flags override the corresponding config file settings.

**Sources:** [cmd/utils/flags.go1-100](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L1-L100)

## Network Selection

### Built-in Networks

StableNet provides flags to select pre-configured networks:

| Flag | Network | Chain ID | Purpose |
| --- | --- | --- | --- |
| --mainnet | StableNet Mainnet | 8282 | Production StableNet network |
| --testnet | StableNet Testnet | 8283 | StableNet test network |
| --goerli | Görli | 5 | Ethereum proof-of-authority testnet |
| --sepolia | Sepolia | 11155111 | Ethereum proof-of-work testnet |
| --holesky | Holesky | 17000 | Ethereum proof-of-stake testnet |

gstable CLI

\--mainnet

\--testnet

\--goerli

\--sepolia

\--holesky

StableNetMainnetChainConfig  
ChainID: 8282

StableNetTestnetChainConfig  
ChainID: 8283

GoerliChainConfig  
ChainID: 5

SepoliaChainConfig  
ChainID: 11155111

HoleskyChainConfig  
ChainID: 17000

WemixMainnetBootnodes

WemixTestnetBootnodes

GoerliBootnodes

SepoliaBootnodes

HoleskyBootnodes

**Network Selection Logic**

The network selection process follows this flow:

Yes

No

Yes

No

Yes

No

Yes

No

Yes

No

Node Startup

Check Network Flag

\--mainnet?

\--testnet?

\--goerli?

\--sepolia?

\--holesky?

Set ChainConfig to  
StableNetMainnetChainConfig

Set ChainConfig to  
StableNetTestnetChainConfig

Set ChainConfig to  
GoerliChainConfig

Set ChainConfig to  
SepoliaChainConfig

Set ChainConfig to  
HoleskyChainConfig

Default to  
StableNetMainnetChainConfig

setBootstrapNodes()

Adjust DataDir  
if testnet

### Custom Network ID

For private or custom networks, use the `--networkid` flag:

```
gstable --networkid 12345 --datadir /path/to/data
```

When `--networkid` is not specified, the network ID defaults to the chain ID from the genesis configuration.

**Sources:** [cmd/utils/flags.go133-163](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L133-L163) [cmd/utils/flags.go1014-1034](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L1014-L1034) [params/config.go30-37](https://github.com/stable-net/go-stablenet/blob/422cf168/params/config.go#L30-L37) [params/bootnodes.go21-35](https://github.com/stable-net/go-stablenet/blob/422cf168/params/bootnodes.go#L21-L35)

## Data Directory Configuration

### Primary Data Directory

The `--datadir` flag specifies the root directory for all blockchain data, including:

-   Blockchain database (chaindata)
-   State trie
-   Transaction pool journal
-   Keystore (unless overridden)
-   Node key

```
gstable --datadir /var/lib/stablenet
```

**Default Data Directories:**

| Platform | Default Path |
| --- | --- |
| Linux | ~/.stablenet |
| macOS | ~/Library/StableNet |
| Windows | %LOCALAPPDATA%\StableNet |

When using testnet flags, a subdirectory is automatically created:

/var/lib/stablenet

\--mainnet

\--testnet

\--goerli

\--sepolia

\--holesky

/var/lib/stablenet

/var/lib/stablenet/testnet

/var/lib/stablenet/goerli

/var/lib/stablenet/sepolia

/var/lib/stablenet/holesky

### Ancient Data (Freezer)

The `--datadir.ancient` flag specifies where to store old blocks (ancient chain segments):

```
gstable --datadir /fast/ssd --datadir.ancient /slow/hdd
```

This allows storing recent blocks on fast storage while archiving old blocks on cheaper, slower storage.

### Keystore Directory

The `--keystore` flag overrides the default keystore location:

```
gstable --keystore /secure/location/keystore
```

By default, the keystore is located at `<datadir>/keystore`.

### Minimum Free Disk Space

The `--datadir.minfreedisk` flag sets a threshold for automatic shutdown when disk space is low:

```
gstable --datadir.minfreedisk 10000  # 10GB minimum
```

**Sources:** [cmd/utils/flags.go90-121](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L90-L121) [cmd/utils/flags.go953-971](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L953-L971) [eth/backend.go134-137](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/backend.go#L134-L137)

## Database Configuration

### Database Engine

StableNet supports two database engines:

```
# Use Pebble (default, recommended)
gstable --db.engine pebble

# Use LevelDB
gstable --db.engine leveldb
```

Pebble is the default and recommended database engine for better performance and stability.

### Cache Allocation

The `--cache` flag sets the total memory allocated for internal caching (in megabytes):

```
gstable --cache 4096  # 4GB cache
```

**Cache Distribution:**

Database I/O

Read cache

Write buffer

Fast access

Pruning

Total Cache  
\--cache 4096 MB

DatabaseCache  
\--cache.database 50%

TrieCache  
\--cache.trie 15%

SnapshotCache  
\--cache.snapshot 10%

GCCache  
\--cache.gc 25%

TrieCleanCache

TrieDirtyCache

LevelDB/Pebble

State Trie

Snapshot Layer

Trie Pruner

| Flag | Description | Default |
| --- | --- | --- |
| --cache.database | Percentage for database I/O | 50% |
| --cache.trie | Percentage for trie caching | 15% (full mode) |
| --cache.gc | Percentage for trie pruning | 25% (full mode) |
| --cache.snapshot | Percentage for snapshot caching | 10% (full mode) |

### Database Handles

The `--cache.handles` flag (internal) sets the number of open file descriptors for the database. This is typically auto-configured based on system limits.

**Sources:** [cmd/utils/flags.go101-106](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L101-L106) [cmd/utils/flags.go375-425](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L375-L425) [eth/ethconfig/config.go69-74](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L69-L74) [eth/backend.go134-137](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/backend.go#L134-L137)

## State Management

### State Scheme

StableNet supports two state storage schemes:

```
# Path-based scheme (newer, better pruning)
gstable --state.scheme path

# Hash-based scheme (legacy)
gstable --state.scheme hash
```

The path-based scheme provides more efficient state pruning and is recommended for new nodes.

### State History

The `--history.state` flag controls how many recent blocks' state history to retain:

```
gstable --history.state 90000  # ~90,000 blocks (~1 day)
```

Setting this to `0` retains the entire state history (archive mode).

### Transaction History

The `--history.transactions` flag controls transaction index retention:

```
gstable --history.transactions 31536000  # ~1 year
```

**Sources:** [cmd/utils/flags.go273-289](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L273-L289) [eth/ethconfig/config.go109-116](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L109-L116)

## Synchronization Configuration

### Sync Modes

\--syncmode

snap  
Snapshot Sync

full  
Full Sync

Unsupported markdown: list

Unsupported markdown: list

✓ Faster initial sync  
✓ Less disk I/O  
✓ Cryptographically secure

✓ Verifies all history  
✓ More robust  
✓ No snapshot dependency

| Mode | Description | Use Case |
| --- | --- | --- |
| snap | Fast sync using snapshots | Quick initial sync (Ethereum networks) |
| full | Full block-by-block sync | Default for WBFT/Anzeon networks |

```
# Full sync (default for StableNet)
gstable --syncmode full

# Snapshot sync
gstable --syncmode snap
```

**Note:** StableNet uses full sync as the default mode for WBFT consensus networks.

### Sync Timing Parameters

```
# Force sync cycle interval
gstable --sync.forcecycle 10s

# Total difficulty verification interval
gstable --sync.tdinterval 10s
```

### Snapshot Configuration

The `--snapshot` flag enables or disables the snapshot acceleration structure:

```
gstable --snapshot=true   # Enable (default)
gstable --snapshot=false  # Disable
```

**Sources:** [cmd/utils/flags.go228-289](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L228-L289) [eth/ethconfig/config.go57-62](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L57-L62) [eth/ethconfig/config.go95-98](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L95-L98)

## Mining and Validator Configuration

### Enable Mining

```
# Enable block production
gstable --mine
```

### Validator Key (Etherbase)

For Anzeon/WBFT networks, the etherbase is automatically set to the node key address:

```
# The validator address is derived from the node key
gstable --mine --nodekey /path/to/validator.key
```

For other consensus mechanisms:

```
gstable --mine --miner.etherbase 0xYourAddress
```

### Gas Limit

```
gstable --miner.gaslimit 105000000  # Target gas limit for mined blocks
```

StableNet's default block gas limit is 105,000,000 (higher than Ethereum's ~30M).

### Gas Price

```
gstable --miner.gasprice 5000000000000  # Minimum gas price (in wei)
```

**Note:** In Anzeon networks, the priority fee (gas tip) is governance-controlled via the GovValidator contract, not miner-set.

### Block Production Timing

```
gstable --miner.recommit 1s  # Time to recreate block being mined
```

**Sources:** [cmd/utils/flags.go433-472](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L433-L472) [eth/backend.go163-168](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/backend.go#L163-L168) [eth/backend.go264-268](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/backend.go#L264-L268)

## RPC and API Configuration

### HTTP RPC Server

HTTP RPC Flags

\--http

\--http.addr

\--http.port

\--http.api

\--http.corsdomain

\--http.vhosts

HTTP RPC Server

Enabled APIs:  
eth, net, web3, etc.

```
# Enable HTTP-RPC server
gstable --http

# Configure listening address and port
gstable --http --http.addr 0.0.0.0 --http.port 8545

# Enable specific API namespaces
gstable --http --http.api eth,net,web3,txpool

# Configure CORS
gstable --http --http.corsdomain "https://myapp.com"

# Configure virtual hosts
gstable --http --http.vhosts "localhost,mynode.domain.com"
```

**Available API Namespaces:**

| Namespace | Description |
| --- | --- |
| eth | Ethereum JSON-RPC API |
| net | Network information |
| web3 | Web3 utilities |
| txpool | Transaction pool inspection |
| debug | Debugging APIs |
| admin | Administrative functions |
| personal | Account management (deprecated) |
| miner | Mining control |

### WebSocket RPC Server

```
# Enable WebSocket-RPC server
gstable --ws

# Configure WebSocket endpoint
gstable --ws --ws.addr 0.0.0.0 --ws.port 8546

# Enable specific APIs
gstable --ws --ws.api eth,net,web3

# Configure allowed origins
gstable --ws --ws.origins "*"
```

### IPC RPC Server

```
# Enable IPC-RPC (enabled by default)
gstable

# Disable IPC-RPC
gstable --ipcdisable

# Custom IPC path
gstable --ipcpath /custom/path/gstable.ipc
```

### Authenticated RPC (Engine API)

```
# Configure authenticated RPC for consensus clients
gstable --authrpc.addr 127.0.0.1 --authrpc.port 8551

# JWT secret for authentication
gstable --authrpc.jwtsecret /path/to/jwt.hex
```

### RPC Limits

```
# Gas cap for eth_call and eth_estimateGas
gstable --rpc.gascap 50000000

# EVM execution timeout
gstable --rpc.evmtimeout 5s

# Transaction fee cap
gstable --rpc.txfeecap 1.0  # 1 ether

# Batch request limits
gstable --rpc.batch-request-limit 1000
gstable --rpc.batch-response-max-size 25000000
```

### GraphQL API

```
# Enable GraphQL on HTTP-RPC server
gstable --http --graphql

# Configure GraphQL settings
gstable --graphql --graphql.corsdomain "*" --graphql.vhosts "*"
```

**Sources:** [cmd/utils/flags.go506-705](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L506-L705) [node/config.go150-200](https://github.com/stable-net/go-stablenet/blob/422cf168/node/config.go#L150-L200)

## P2P Networking Configuration

### Network Ports

P2P Configuration

\--port 30303  
TCP/UDP listening port

\--discovery.port 30303  
UDP discovery port

p2p.Server

Discovery Protocol

\--maxpeers 50

\--maxpendpeers 50

```
# Network listening port
gstable --port 30303

# Discovery port (if different from listening port)
gstable --discovery.port 30304
```

### Peer Management

```
# Maximum number of network peers
gstable --maxpeers 50

# Maximum pending connection attempts
gstable --maxpendpeers 50
```

### Bootstrap Nodes

```
# Custom bootstrap nodes
gstable --bootnodes "enode://node1@ip1:port1,enode://node2@ip2:port2"
```

To disable bootstrap nodes entirely:

```
gstable --bootnodes ""
```

### Node Key

```
# Use specific node key file
gstable --nodekey /path/to/node.key

# Use node key as hex (for testing)
gstable --nodekeyhex "your-hex-key"
```

### NAT Configuration

```
# Automatic NAT traversal
gstable --nat any

# No NAT
gstable --nat none

# UPnP
gstable --nat upnp

# NAT-PMP
gstable --nat pmp

# NAT-PMP with specific gateway
gstable --nat pmp:192.168.1.1

# External IP
gstable --nat extip:203.0.113.1
```

### Discovery Configuration

```
# Disable peer discovery
gstable --nodiscover

# Enable Discovery v4 (default)
gstable --discovery.v4

# Enable Discovery v5
gstable --discovery.v5

# DNS discovery
gstable --discovery.dns "enrtree://..."
```

### Network Restrictions

```
# Restrict to specific IP networks (CIDR masks)
gstable --netrestrict "192.168.0.0/16,10.0.0.0/8"
```

**Sources:** [cmd/utils/flags.go707-794](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L707-L794) [cmd/utils/flags.go1006-1049](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L1006-L1049)

## Transaction Pool Configuration

### Transaction Pool Limits

Transaction Pool  
\--txpool.\*

\--txpool.pricelimit  
Min gas tip

\--txpool.accountslots  
Slots per account

\--txpool.globalslots  
Total executable slots

\--txpool.accountqueue  
Queue per account

\--txpool.globalqueue  
Total queue slots

\--txpool.lifetime  
Max queued time

Pending Queue  
(executable)

Future Queue  
(non-executable)

| Flag | Description | Default |
| --- | --- | --- |
| --txpool.pricelimit | Minimum gas price for acceptance | 1 |
| --txpool.pricebump | Price bump % to replace existing tx | 10 |
| --txpool.accountslots | Min executable slots per account | 16 |
| --txpool.globalslots | Max executable slots for all accounts | 4096 |
| --txpool.accountqueue | Max non-executable slots per account | 64 |
| --txpool.globalqueue | Max non-executable slots for all accounts | 1024 |
| --txpool.lifetime | Max time for non-executable txs | 3h |

```
# Configure transaction pool
gstable \
  --txpool.pricelimit 5000000000000 \
  --txpool.accountslots 16 \
  --txpool.globalslots 8192
```

### Transaction Pool Journal

```
# Journal file for local transactions
gstable --txpool.journal /var/lib/stablenet/transactions.rlp

# Journal regeneration interval
gstable --txpool.rejournal 1h
```

### Local Transactions

```
# Mark specific accounts as local (no eviction)
gstable --txpool.locals "0xAddress1,0xAddress2"

# Disable local transaction exemptions
gstable --txpool.nolocals
```

**Sources:** [cmd/utils/flags.go290-354](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L290-L354) [eth/ethconfig/config.go150-151](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L150-L151)

## Performance Tuning

### File Descriptor Limit

```
# Raise file descriptor limit
gstable --fdlimit 8192
```

This is particularly important for nodes with large databases.

### Cache Prefetching

```
# Disable heuristic state prefetch during import
gstable --cache.noprefetch
```

Disabling prefetch reduces CPU and disk I/O but increases latency when state data is needed.

### Preimage Recording

```
# Enable SHA3/keccak preimage recording
gstable --cache.preimages
```

This stores the preimage of trie keys, useful for certain debugging scenarios but increases disk usage.

### Garbage Collection Mode

```
# Full garbage collection (default)
gstable --gcmode full

# Archive mode (no pruning)
gstable --gcmode archive
```

Archive mode keeps all historical state and requires significantly more disk space.

### Log Cache Size

```
# Filter log cache size (in number of blocks)
gstable --cache.blocklogs 32
```

**Sources:** [cmd/utils/flags.go405-425](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L405-L425) [cmd/utils/flags.go267-272](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L267-L272) [eth/ethconfig/config.go105-107](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L105-L107)

## Monitoring and Metrics

### Enable Metrics

```
# Enable metrics collection
gstable --metrics

# Expose metrics HTTP server
gstable --metrics --metrics.addr 127.0.0.1 --metrics.port 6060
```

### InfluxDB Integration

```
# Export metrics to InfluxDB
gstable --metrics.influxdb \
  --metrics.influxdb.endpoint "http://localhost:8086" \
  --metrics.influxdb.database "gstable" \
  --metrics.influxdb.username "user" \
  --metrics.influxdb.password "pass"

# Add tags to metrics
gstable --metrics.influxdb.tags "host=node1,env=prod"
```

### InfluxDB v2

```
# Export metrics to InfluxDB v2
gstable --metrics.influxdbv2 \
  --metrics.influxdb.endpoint "http://localhost:8086" \
  --metrics.influxdb.token "your-token" \
  --metrics.influxdb.bucket "gstable" \
  --metrics.influxdb.organization "myorg"
```

### Ethstats Reporting

```
# Report to ethstats service
gstable --ethstats "nodename:secret@host:port"
```

**Sources:** [cmd/utils/flags.go835-928](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L835-L928)

## Logging Configuration

### Log Verbosity

The verbosity is controlled through environment variables or code, not CLI flags. However, the log output destination can be configured:

```
# Log to file
gstable 2>&1 | tee /var/log/gstable.log

# Systemd journal
gstable  # systemd captures stdout/stderr automatically
```

**Sources:** [cmd/utils/flags.go550-560](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L550-L560)

## Account Management

### Unlock Accounts

```
# Unlock accounts for signing
gstable --unlock "0xAddress1,0xAddress2"

# Provide password file
gstable --unlock "0xAddress" --password /path/to/password.txt
```

### Allow Insecure Unlock

```
# Allow unlocking via HTTP (insecure)
gstable --unlock "0xAddress" --allow-insecure-unlock
```

**Warning:** Only use `--allow-insecure-unlock` in development environments. Never use it with HTTP-RPC exposed to untrusted networks.

### External Signer

```
# Use external signer
gstable --signer "http://localhost:8550"
```

**Sources:** [cmd/utils/flags.go474-497](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L474-L497)

## Hardware Wallet Support

```
# Enable USB hardware wallet support
gstable --usb

# Smart card daemon path
gstable --pcscdpath /run/pcscd/pcscd.comm
```

**Sources:** [cmd/utils/flags.go122-132](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L122-L132)

## Complete Configuration Example

Here's a complete example of a production StableNet validator node:

```
gstable \
  --mainnet \
  --datadir /var/lib/stablenet \
  --datadir.ancient /mnt/slow/stablenet/ancient \
  --cache 8192 \
  --db.engine pebble \
  --state.scheme path \
  --syncmode full \
  --snapshot \
  --mine \
  --nodekey /secure/keys/validator.key \
  --port 30303 \
  --maxpeers 100 \
  --nat any \
  --http \
  --http.addr 127.0.0.1 \
  --http.port 8545 \
  --http.api eth,net,web3 \
  --http.vhosts localhost \
  --ws \
  --ws.addr 127.0.0.1 \
  --ws.port 8546 \
  --ws.api eth,net,web3 \
  --ws.origins "*" \
  --metrics \
  --metrics.addr 127.0.0.1 \
  --metrics.port 6060 \
  --txpool.pricelimit 5000000000000 \
  --verbosity 3
```

## TOML Configuration File

All command-line flags can be specified in a TOML configuration file:

```
[Eth]
NetworkId = 1111
SyncMode = "full"
NoPruning = false
DatabaseCache = 8192
TrieCleanCache = 4096
TrieDirtyCache = 2048
SnapshotCache = 1024

[Eth.Miner]
GasCeil = 105000000
GasPrice = 5000000000000

[Eth.TxPool]
PriceLimit = 5000000000000
AccountSlots = 16
GlobalSlots = 8192

[Node]
DataDir = "/var/lib/stablenet"
HTTPHost = "127.0.0.1"
HTTPPort = 8545
HTTPModules = ["eth", "net", "web3"]
WSHost = "127.0.0.1"
WSPort = 8546
WSModules = ["eth", "net", "web3"]

[Node.P2P]
MaxPeers = 100
ListenAddr = ":30303"
```

Load the configuration file with:

```
gstable --config /etc/stablenet/config.toml
```

**Sources:** [eth/ethconfig/gen\_config.go1-269](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/gen_config.go#L1-L269)

## Configuration Priority and Overrides

Node Startup

Unsupported markdown: list

Unsupported markdown: list

Unsupported markdown: list

Unsupported markdown: list

Unsupported markdown: list

Unsupported markdown: list

Unsupported markdown: list

The configuration is applied in this order:

1.  **Default values** from `ethconfig.Defaults` and `node.DefaultConfig`
2.  **TOML configuration file** values (if `--config` is specified)
3.  **Command-line flags** (highest priority)

CLI flags always override configuration file values, which in turn override defaults.

**Sources:** [cmd/utils/flags.go1161-1478](https://github.com/stable-net/go-stablenet/blob/422cf168/cmd/utils/flags.go#L1161-L1478) [eth/ethconfig/config.go56-82](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/ethconfig/config.go#L56-L82) [eth/backend.go108-303](https://github.com/stable-net/go-stablenet/blob/422cf168/eth/backend.go#L108-L303)

Dismiss

Refresh this wiki

This wiki was recently refreshed. Please wait 2 days to refresh again.

### On this page

-   [Node Configuration](#node-configuration)
-   [Configuration Methods](#configuration-methods)
-   [Network Selection](#network-selection)
-   [Built-in Networks](#built-in-networks)
-   [Custom Network ID](#custom-network-id)
-   [Data Directory Configuration](#data-directory-configuration)
-   [Primary Data Directory](#primary-data-directory)
-   [Ancient Data (Freezer)](#ancient-data-freezer)
-   [Keystore Directory](#keystore-directory)
-   [Minimum Free Disk Space](#minimum-free-disk-space)
-   [Database Configuration](#database-configuration)
-   [Database Engine](#database-engine)
-   [Cache Allocation](#cache-allocation)
-   [Database Handles](#database-handles)
-   [State Management](#state-management)
-   [State Scheme](#state-scheme)
-   [State History](#state-history)
-   [Transaction History](#transaction-history)
-   [Synchronization Configuration](#synchronization-configuration)
-   [Sync Modes](#sync-modes)
-   [Sync Timing Parameters](#sync-timing-parameters)
-   [Snapshot Configuration](#snapshot-configuration)
-   [Mining and Validator Configuration](#mining-and-validator-configuration)
-   [Enable Mining](#enable-mining)
-   [Validator Key (Etherbase)](#validator-key-etherbase)
-   [Gas Limit](#gas-limit)
-   [Gas Price](#gas-price)
-   [Block Production Timing](#block-production-timing)
-   [RPC and API Configuration](#rpc-and-api-configuration)
-   [HTTP RPC Server](#http-rpc-server)
-   [WebSocket RPC Server](#websocket-rpc-server)
-   [IPC RPC Server](#ipc-rpc-server)
-   [Authenticated RPC (Engine API)](#authenticated-rpc-engine-api)
-   [RPC Limits](#rpc-limits)
-   [GraphQL API](#graphql-api)
-   [P2P Networking Configuration](#p2p-networking-configuration)
-   [Network Ports](#network-ports)
-   [Peer Management](#peer-management)
-   [Bootstrap Nodes](#bootstrap-nodes)
-   [Node Key](#node-key)
-   [NAT Configuration](#nat-configuration)
-   [Discovery Configuration](#discovery-configuration)
-   [Network Restrictions](#network-restrictions)
-   [Transaction Pool Configuration](#transaction-pool-configuration)
-   [Transaction Pool Limits](#transaction-pool-limits)
-   [Transaction Pool Journal](#transaction-pool-journal)
-   [Local Transactions](#local-transactions)
-   [Performance Tuning](#performance-tuning)
-   [File Descriptor Limit](#file-descriptor-limit)
-   [Cache Prefetching](#cache-prefetching)
-   [Preimage Recording](#preimage-recording)
-   [Garbage Collection Mode](#garbage-collection-mode)
-   [Log Cache Size](#log-cache-size)
-   [Monitoring and Metrics](#monitoring-and-metrics)
-   [Enable Metrics](#enable-metrics)
-   [InfluxDB Integration](#influxdb-integration)
-   [InfluxDB v2](#influxdb-v2)
-   [Ethstats Reporting](#ethstats-reporting)
-   [Logging Configuration](#logging-configuration)
-   [Log Verbosity](#log-verbosity)
-   [Account Management](#account-management)
-   [Unlock Accounts](#unlock-accounts)
-   [Allow Insecure Unlock](#allow-insecure-unlock)
-   [External Signer](#external-signer)
-   [Hardware Wallet Support](#hardware-wallet-support)
-   [Complete Configuration Example](#complete-configuration-example)
-   [TOML Configuration File](#toml-configuration-file)
-   [Configuration Priority and Overrides](#configuration-priority-and-overrides)

Ask Devin about stable-net/go-stablenet

Fast