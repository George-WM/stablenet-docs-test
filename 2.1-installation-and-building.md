[Index your code with Devin](/private-repo)

[DeepWiki](/)

[DeepWiki](/)

[stable-net/go-stablenet](https://github.com/stable-net/go-stablenet "Open repository")

[

Index your code with

Devin

](/private-repo)Edit WikiShare

Last indexed: 29 November 2025 ([422cf1](https://github.com/stable-net/go-stablenet/commits/422cf168))

-   [StableNet Overview](/stable-net/go-stablenet/1-stablenet-overview)
-   [Getting Started](/stable-net/go-stablenet/2-getting-started)
-   [Installation and Building](/stable-net/go-stablenet/2.1-installation-and-building)
-   [Node Configuration](/stable-net/go-stablenet/2.2-node-configuration)
-   [Genesis Setup and Network Types](/stable-net/go-stablenet/2.3-genesis-setup-and-network-types)
-   [Core Architecture](/stable-net/go-stablenet/3-core-architecture)
-   [Node Initialization and Lifecycle](/stable-net/go-stablenet/3.1-node-initialization-and-lifecycle)
-   [Blockchain Management](/stable-net/go-stablenet/3.2-blockchain-management)
-   [State Management](/stable-net/go-stablenet/3.3-state-management)
-   [Transaction Pool](/stable-net/go-stablenet/3.4-transaction-pool)
-   [Transaction Types and Encoding](/stable-net/go-stablenet/3.5-transaction-types-and-encoding)
-   [Consensus and Block Production](/stable-net/go-stablenet/4-consensus-and-block-production)
-   [Anzeon WBFT Consensus Protocol](/stable-net/go-stablenet/4.1-anzeon-wbft-consensus-protocol)
-   [Block Production and Mining](/stable-net/go-stablenet/4.2-block-production-and-mining)
-   [Validator Management](/stable-net/go-stablenet/4.3-validator-management)
-   [Governance System](/stable-net/go-stablenet/5-governance-system)
-   [System Contracts Overview](/stable-net/go-stablenet/5.1-system-contracts-overview)
-   [NativeCoinAdapter Contract](/stable-net/go-stablenet/5.2-nativecoinadapter-contract)
-   [GovValidator Contract](/stable-net/go-stablenet/5.3-govvalidator-contract)
-   [Minting and Burning Governance](/stable-net/go-stablenet/5.4-minting-and-burning-governance)
-   [Mint and Burn Protocol](/stable-net/go-stablenet/5.5-mint-and-burn-protocol)
-   [Transaction Processing](/stable-net/go-stablenet/6-transaction-processing)
-   [Transaction Lifecycle](/stable-net/go-stablenet/6.1-transaction-lifecycle)
-   [State Transitions](/stable-net/go-stablenet/6.2-state-transitions)
-   [EVM Execution](/stable-net/go-stablenet/6.3-evm-execution)
-   [Gas Fee Policy](/stable-net/go-stablenet/6.4-gas-fee-policy)
-   [Networking](/stable-net/go-stablenet/7-networking)
-   [P2P Server and Peer Management](/stable-net/go-stablenet/7.1-p2p-server-and-peer-management)
-   [Peer Discovery](/stable-net/go-stablenet/7.2-peer-discovery)
-   [Chain Synchronization](/stable-net/go-stablenet/7.3-chain-synchronization)
-   [Protocol Handlers](/stable-net/go-stablenet/7.4-protocol-handlers)
-   [RPC API](/stable-net/go-stablenet/8-rpc-api)
-   [API Services and Namespaces](/stable-net/go-stablenet/8.1-api-services-and-namespaces)
-   [Event Filtering and Subscriptions](/stable-net/go-stablenet/8.2-event-filtering-and-subscriptions)
-   [Transaction Submission and Signing](/stable-net/go-stablenet/8.3-transaction-submission-and-signing)
-   [Storage Architecture](/stable-net/go-stablenet/9-storage-architecture)
-   [Database Layer](/stable-net/go-stablenet/9.1-database-layer)
-   [State Tries and Merkle Patricia Trees](/stable-net/go-stablenet/9.2-state-tries-and-merkle-patricia-trees)
-   [Snapshots and Caching](/stable-net/go-stablenet/9.3-snapshots-and-caching)
-   [Development Tools](/stable-net/go-stablenet/10-development-tools)
-   [Building and CI/CD](/stable-net/go-stablenet/10.1-building-and-cicd)
-   [devp2p Tools](/stable-net/go-stablenet/10.2-devp2p-tools)
-   [Data Import and Export Utilities](/stable-net/go-stablenet/10.3-data-import-and-export-utilities)
-   [Testing Framework](/stable-net/go-stablenet/10.4-testing-framework)
-   [JavaScript Console](/stable-net/go-stablenet/10.5-javascript-console)
-   [Operations Guide](/stable-net/go-stablenet/11-operations-guide)
-   [Network Types and Deployment](/stable-net/go-stablenet/11.1-network-types-and-deployment)
-   [Validator Operations](/stable-net/go-stablenet/11.2-validator-operations)
-   [Node Monitoring and Maintenance](/stable-net/go-stablenet/11.3-node-monitoring-and-maintenance)

Menu

# Installation and Building

Relevant source files

-   [.dockerignore](https://github.com/stable-net/go-stablenet/blob/422cf168/.dockerignore)
-   [.golangci.yml](https://github.com/stable-net/go-stablenet/blob/422cf168/.golangci.yml)
-   [.travis.yml](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml)
-   [Dockerfile](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile)
-   [Dockerfile.alltools](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile.alltools)
-   [Makefile](https://github.com/stable-net/go-stablenet/blob/422cf168/Makefile)
-   [accounts/abi/doc.go](https://github.com/stable-net/go-stablenet/blob/422cf168/accounts/abi/doc.go)
-   [appveyor.yml](https://github.com/stable-net/go-stablenet/blob/422cf168/appveyor.yml)
-   [build/checksums.txt](https://github.com/stable-net/go-stablenet/blob/422cf168/build/checksums.txt)
-   [build/ci-notes.md](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci-notes.md)
-   [build/ci.go](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go)
-   [build/deb/ethereum/deb.changelog](https://github.com/stable-net/go-stablenet/blob/422cf168/build/deb/ethereum/deb.changelog)
-   [build/deb/ethereum/deb.control](https://github.com/stable-net/go-stablenet/blob/422cf168/build/deb/ethereum/deb.control)
-   [build/deb/ethereum/deb.rules](https://github.com/stable-net/go-stablenet/blob/422cf168/build/deb/ethereum/deb.rules)
-   [internal/build/env.go](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/env.go)
-   [internal/build/gotool.go](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go)
-   [internal/build/util.go](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/util.go)
-   [params/version.go](https://github.com/stable-net/go-stablenet/blob/422cf168/params/version.go)

This page provides detailed instructions for building the StableNet node client (`gstable`) from source, including dependency management, the build system architecture, cross-compilation procedures, and the CI/CD pipeline. For information about configuring a built node, see [Node Configuration](/stable-net/go-stablenet/2.2-node-configuration). For genesis initialization, see [Genesis Setup](/stable-net/go-stablenet/2.3-genesis-setup-and-network-types).

* * *

## Prerequisites

### Go Version Requirements

StableNet requires **Go 1.22 or later**. The exact version used in production builds is specified in [build/checksums.txt8](https://github.com/stable-net/go-stablenet/blob/422cf168/build/checksums.txt#L8-L8):

| Component | Version |
| --- | --- |
| Production Go | 1.22.12 |
| PPA Builder Go | 1.22.12 |

The build system can automatically download the correct Go version using the `-dlgo` flag, which fetches and verifies Go distributions from the checksums database.

**Sources:** [build/checksums.txt8-23](https://github.com/stable-net/go-stablenet/blob/422cf168/build/checksums.txt#L8-L23) [internal/build/gotool.go87-132](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go#L87-L132)

### System Dependencies

#### Linux

```
# Debian/Ubuntu
sudo apt-get install build-essential gcc musl-dev linux-headers git

# For cross-compilation (ARM, ARM64)
sudo apt-get install gcc-arm-linux-gnueabi libc6-dev-armel-cross \
  gcc-arm-linux-gnueabihf libc6-dev-armhf-cross \
  gcc-aarch64-linux-gnu libc6-dev-arm64-cross
```

#### macOS

```
# Xcode command line tools
xcode-select --install
```

#### Windows

-   MinGW-w64 (MSYS2) for gcc compilation
-   Git for Windows

**Sources:** [.travis.yml70-72](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L70-L72) [appveyor.yml42-46](https://github.com/stable-net/go-stablenet/blob/422cf168/appveyor.yml#L42-L46) [Dockerfile9](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile#L9-L9)

* * *

## Build System Architecture

The StableNet build system is organized around two primary interfaces: a `Makefile` for simple builds and `build/ci.go` for advanced CI/CD operations.

Build Artifacts

Build Operations

Build System Core

User Interfaces

configures

configures

provides metadata

provides metadata

make gstable  
Quick build

go run build/ci.go  
Advanced build

build/ci.go  
Main build orchestrator

build.GoToolchain  
Go wrapper

build.Environment  
CI metadata

doInstall()  
Compile packages

doTest()  
Run tests

doArchive()  
Create releases

doDocker()  
Container images

doDebianSource()  
Debian packages

doWindowsInstaller()  
Windows installer

build/bin/gstable

build/bin/...  
abigen, bootnode, evm, etc

geth-\*.tar.gz / .zip

ethereum/client-go:\*

\*.deb packages

gstable-\*.exe installer

**Build System Components:**

| Component | File | Purpose |
| --- | --- | --- |
| ci.go | build/ci.go38-188 | Main build automation script with subcommands |
| Makefile | Makefile1-66 | Simple interface for common builds |
| GoToolchain | internal/build/gotool.go29-83 | Manages Go compiler and cross-compilation |
| Environment | internal/build/env.go40-98 | Detects CI environment (Travis, AppVeyor, local) |

**Sources:** [build/ci.go20-188](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L20-L188) [Makefile1-66](https://github.com/stable-net/go-stablenet/blob/422cf168/Makefile#L1-L66) [internal/build/gotool.go29-83](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go#L29-L83) [internal/build/env.go40-98](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/env.go#L40-L98)

* * *

## Building from Source

### Quick Start with Makefile

The simplest way to build `gstable`:

```
# Clone the repository
git clone https://github.com/stable-net/go-stablenet.git
cd go-stablenet

# Build gstable
make gstable

# Binary location
./build/bin/gstable --help
```

**Available Makefile targets:**

| Target | Command | Output |
| --- | --- | --- |
| gstable | make gstable | Main node client at build/bin/gstable |
| genesis_generator | make genesis_generator | Genesis config tool at build/bin/genesis_generator |
| all | make all | All executables in cmd/ |
| test | make test | Run test suite |
| lint | make lint | Run golangci-lint |
| clean | make clean | Remove build artifacts |
| devtools | make devtools | Install development tools |

**Sources:** [Makefile16-65](https://github.com/stable-net/go-stablenet/blob/422cf168/Makefile#L16-L65)

### Using build/ci.go

The `build/ci.go` script provides the full build system used in CI/CD:

```
# Install packages
go run build/ci.go install ./cmd/gstable
go run build/ci.go install              # Build all packages

# With automatic Go download
go run build/ci.go install -dlgo

# Cross-compilation
GOARM=7 go run build/ci.go install -arch arm -cc arm-linux-gnueabihf-gcc

# Static linking (for Alpine Linux)
go run build/ci.go install -static

# Create archives
go run build/ci.go archive -type tar -arch amd64

# Run tests
go run build/ci.go test
go run build/ci.go test -coverage
```

**Sources:** [build/ci.go192-246](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L192-L246) [Makefile17-26](https://github.com/stable-net/go-stablenet/blob/422cf168/Makefile#L17-L26)

* * *

## Build Flags and Configuration

### Build Metadata Injection

Version information and git metadata are embedded at build time through linker flags:

Binary Output

buildFlags()

Build Time

params/version.go  
VersionMajor: 0  
VersionMinor: 1  
VersionPatch: 0  
VersionMeta: stable

Git Repository  
commit hash  
commit date

CI Environment  
build number  
branch/tag

Linker Flags  
\-X gitCommit=...  
\-X gitDate=...

Build Tags  
ckzg  
urfave\_cli\_no\_docs

\-extldflags -static  
osusergo, netgo

gstable binary  
gstable version  
shows metadata

**Build flag construction** in [build/ci.go248-279](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L248-L279):

| Flag | Purpose | Example |
| --- | --- | --- |
| -ldflags | Inject git commit and date | -X github.com/.../version.gitCommit=abc123 |
| -tags | Enable conditional compilation | ckzg,urfave_cli_no_docs |
| -trimpath | Remove local paths from binary | For reproducible builds |
| -static | Static linking (Linux) | -extldflags '-static' with osusergo,netgo tags |
| -o | Output path | build/bin/gstable |

**Version metadata** defined in [params/version.go23-42](https://github.com/stable-net/go-stablenet/blob/422cf168/params/version.go#L23-L42):

-   `VersionMajor = 0`
-   `VersionMinor = 1`
-   `VersionPatch = 0`
-   `VersionMeta = "stable"`

**Sources:** [build/ci.go248-279](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L248-L279) [params/version.go23-67](https://github.com/stable-net/go-stablenet/blob/422cf168/params/version.go#L23-L67) [internal/build/env.go59-98](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/env.go#L59-L98)

### Conditional Build Tags

StableNet uses Go build tags to enable optional features:

| Tag | Purpose | When Used |
| --- | --- | --- |
| ckzg | Enable KZG cryptography support | Production builds (requires C compiler) |
| urfave_cli_no_docs | Disable CLI markdown generation | Release builds |
| osusergo | Pure Go user/group lookups | Static linking |
| netgo | Pure Go network resolver | Static linking |
| integrationtests | Enable integration tests | CI test runs |

**Sources:** [build/ci.go209-214](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L209-L214) [build/ci.go264-268](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L264-L268) [build/ci.go313-316](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L313-L316)

* * *

## Build Executables and Tools

The repository builds multiple executables, all located in [build/bin/](https://github.com/stable-net/go-stablenet/blob/422cf168/build/bin/) after compilation:

Package Collections

Developer Tools

Main Executables

gstable  
cmd/gstable  
Full node client

genesis\_generator  
cmd/genesis\_generator  
Genesis config tool

abigen  
cmd/abigen  
ABI binding generator

evm  
cmd/evm  
EVM test runner

bootnode  
cmd/bootnode  
Bootstrap node

rlpdump  
cmd/rlpdump  
RLP decoder

clef  
cmd/clef  
Account signer

geth-\*.tar.gz  
Contains: gstable

geth-alltools-\*.tar.gz  
Contains: all executables

**Archive contents** defined in [build/ci.go64-79](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L64-L79):

**`gethArchiveFiles`:**

-   `COPYING` (license)
-   `gstable` executable

**`allToolsArchiveFiles`:**

-   `COPYING`
-   `abigen`, `bootnode`, `evm`, `gstable`, `rlpdump`, `clef`, `genesis_generator`

**Sources:** [build/ci.go64-79](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L64-L79) [build/ci.go82-111](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L82-L111)

* * *

## Cross-Compilation

StableNet supports cross-compilation for multiple architectures through the `GoToolchain` abstraction:

### Supported Platforms

| OS | Architectures | Notes |
| --- | --- | --- |
| Linux | amd64, 386, arm (v5/v6/v7), arm64, ppc64le, s390x | Full support |
| macOS (Darwin) | amd64, arm64 | Native and cross-compile |
| Windows | amd64, 386, arm64 | MinGW required |
| FreeBSD | amd64, 386, arm | Community support |

### Cross-Compilation Commands

```
# Linux ARM (32-bit, ARMv7)
GOARM=7 go run build/ci.go install -arch arm -cc arm-linux-gnueabihf-gcc

# Linux ARM64
go run build/ci.go install -arch arm64 -cc aarch64-linux-gnu-gcc

# Linux 32-bit
go run build/ci.go install -arch 386

# Windows (from Linux)
go run build/ci.go install -arch amd64 -cc x86_64-w64-mingw32-gcc
```

**Environment variable configuration** in [internal/build/gotool.go42-60](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go#L42-L60):

-   `GOARCH` - Target architecture
-   `GOOS` - Target operating system
-   `CC` - C compiler for CGO
-   `CGO_ENABLED=1` - Required for cross-compilation
-   `CGO_CFLAGS=-O2 -g -D__BLST_PORTABLE__` - Ensures portable CPU instructions

**Sources:** [internal/build/gotool.go29-83](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go#L29-L83) [build/ci.go192-246](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L192-L246) [.travis.yml64-81](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L64-L81)

* * *

## CI/CD Pipeline

StableNet uses Travis CI (Linux/macOS) and AppVeyor (Windows) for continuous integration:

Artifacts

AppVeyor - Windows

Travis CI - macOS

Travis CI - Linux

Trigger Events

Git Push  
master branch

Pull Request

Version Tag  
v1.x.x

Scheduled Build  
nightly/weekly

Lint Stage  
go run build/ci.go lint

Test Stage  
amd64, arm64  
Go 1.20.x, 1.21.x

Build Stage  
amd64, 386, arm, arm64

Archive Upload  
tar.gz + signatures

Docker Images  
amd64, arm64

Ubuntu PPA  
Debian packages

macOS Build  
amd64, arm64

Archive Upload

Windows Build  
amd64, 386

Windows Test

Archive Upload  
zip + NSIS installer

Azure Blob Storage  
gstablestore/builds

Docker Hub  
ethereum/client-go

Ubuntu Launchpad  
ethereum PPA

### CI Configuration Files

| File | Purpose | Platforms |
| --- | --- | --- |
| .travis.yml | Linux/macOS builds, tests, packaging | Ubuntu Bionic, macOS Xcode 14.2 |
| appveyor.yml | Windows builds and tests | Visual Studio 2019, Ubuntu |

### Travis CI Build Matrix

**Defined in** [.travis.yml11-168](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L11-L168):

| Job | OS | Arch | Go Version | Purpose |
| --- | --- | --- | --- | --- |
| Docker amd64 | Linux | amd64 | 1.21.x | Build and push Docker image |
| Docker arm64 | Linux | arm64 | 1.21.x | Build and push Docker image |
| Linux archive | Linux | amd64, 386, arm, arm64 | 1.21.x | Create release archives |
| macOS archive | macOS | amd64, arm64 | 1.21.x | Create macOS archives |
| Test amd64 | Linux | amd64 | 1.21.x | Run full test suite |
| Test arm64 | Linux | arm64 | 1.20.x | Run tests on ARM |
| Ubuntu PPA | Linux | N/A | 1.21.x | Build Debian packages |
| Purge | Linux | N/A | 1.21.x | Clean old artifacts (cron) |

**Archive creation command** [.travis.yml66](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L66-L66):

```
go run build/ci.go archive -type tar -signer LINUX_SIGNING_KEY \
  -signify SIGNIFY_KEY -upload gstablestore/builds
```

**Sources:** [.travis.yml1-169](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L1-L169) [build/ci.go407-444](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L407-L444)

### AppVeyor Build Matrix

**Defined in** [appveyor.yml9-58](https://github.com/stable-net/go-stablenet/blob/422cf168/appveyor.yml#L9-L58):

| OS | Architecture | GCC |
| --- | --- | --- |
| Visual Studio 2019 | amd64 | C:\msys64\mingw64\bin\gcc.exe |
| Visual Studio 2019 | 386 | C:\msys64\mingw32\bin\gcc.exe |
| Ubuntu | amd64 | system gcc |

**Sources:** [appveyor.yml1-58](https://github.com/stable-net/go-stablenet/blob/422cf168/appveyor.yml#L1-L58)

* * *

## Docker Builds

StableNet provides two Docker images: a minimal `gstable`\-only image and an `alltools` image with all executables.

### Dockerfile Structure

Final Images

Runtime Stage

Builder Stage

golang:1.22-alpine

Install gcc, musl-dev  
linux-headers, git, ca-certificates

Copy go.mod/go.sum  
Run go mod download

Copy source code

go run build/ci.go install

alpine:latest

Install ca-certificates

Copy binaries from builder

gstable image  
Size: ~50MB  
Contains: gstable only

gstable-alltools image  
Size: ~80MB  
Contains: all executables

**Dockerfile for gstable** [Dockerfile1-45](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile#L1-L45):

-   Base: `golang:1.22-alpine` (builder), `alpine:latest` (runtime)
-   Build command: `go run build/ci.go install -static ./cmd/gstable`
-   Exposes ports: 8545 (HTTP RPC), 8546 (WebSocket), 30303 (P2P)

**Dockerfile for all tools** [Dockerfile.alltools1-44](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile.alltools#L1-L44):

-   Build command: `go run build/ci.go install -static` (all packages)
-   Includes: `gstable`, `abigen`, `bootnode`, `evm`, `rlpdump`, `clef`, `genesis_generator`

### Docker Image Tagging Strategy

**Defined in** [build/ci.go543-550](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L543-L550):

| Condition | Tags Generated |
| --- | --- |
| master branch push | latest, alltools-latest |
| Version tag v1.x.y | stable, release-1.x, v1.x.y (+ alltools-* variants) |

**Multi-architecture manifest** [build/ci.go599-675](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L599-L675):

-   Creates manifests for `amd64` and `arm64`
-   Each architecture builds independently, then manifest combines them
-   Uses `docker manifest create` and `docker manifest push`

**Sources:** [Dockerfile1-45](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile#L1-L45) [Dockerfile.alltools1-44](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile.alltools#L1-L44) [build/ci.go513-676](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L513-L676) [.travis.yml28-46](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L28-L46)

* * *

## Package Generation

### Debian Packages

StableNet generates Debian source packages for Ubuntu PPA:

**Process overview:**

1.  **Download Go sources** for bootstrapper (1.19.6) and builder (1.21.6)
2.  **Bundle dependencies** from `go mod download` cache
3.  **Generate debian control files** from templates
4.  **Build source package** with `debuild -S`
5.  **Sign and upload** to Launchpad PPA via SFTP

**Supported Ubuntu distributions** [build/ci.go130-137](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L130-L137):

-   trusty (14.04) - EOL 04/2024
-   xenial (16.04) - EOL 04/2026
-   bionic (18.04) - EOL 04/2028
-   focal (20.04) - EOL 04/2030
-   jammy (22.04) - EOL 04/2032
-   mantic (23.10) - EOL 07/2024

**Debian package metadata** [build/ci.go847-901](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L847-L901):

-   Package names: `ethereum`, `geth`, `abigen`, `bootnode`, etc.
-   Unstable builds use `-unstable` suffix
-   Version format: `{version}+build{buildnum}+{distro}`

**Build rules** [build/deb/ethereum/deb.rules1-37](https://github.com/stable-net/go-stablenet/blob/422cf168/build/deb/ethereum/deb.rules#L1-L37):

```
# Bootstrap Go 1.19.6 first
(mv .goboot ../ && cd ../.goboot/src && ./make.bash)

# Build target Go 1.21.6
(mv .go ../ && cd ../.go/src && GOROOT_BOOTSTRAP=`pwd`/../../.goboot ./make.bash)

# Install bundled dependencies
mkdir -p $(GOPATH)/pkg
mv .mod $(GOPATH)/pkg/mod

# Build geth with metadata injection
../.go/bin/go run build/ci.go install -git-commit=... -buildnum=...
```

**Sources:** [build/ci.go679-760](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L679-L760) [build/deb/ethereum/deb.rules1-37](https://github.com/stable-net/go-stablenet/blob/422cf168/build/deb/ethereum/deb.rules#L1-L37) [build/deb/ethereum/deb.control1-26](https://github.com/stable-net/go-stablenet/blob/422cf168/build/deb/ethereum/deb.control#L1-L26)

### Windows Installer (NSIS)

The Windows installer bundles executables into an NSIS-based installer:

**Installer components** [build/ci.go1000-1015](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L1000-L1015):

-   `gstable.exe` (main section)
-   Developer tools: `abigen`, `bootnode`, `evm`, `rlpdump`, `clef`, `genesis_generator` (optional section)
-   License: `COPYING`

**NSIS script rendering** [build/ci.go1017-1030](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L1017-L1030):

-   `build/nsis.geth.nsi` - Main installer script
-   `build/nsis.install.nsh` - Installation logic
-   `build/nsis.uninstall.nsh` - Uninstallation logic
-   `build/nsis.pathupdate.nsh` - PATH modification
-   `build/nsis.simplefc.dll` - Firewall configuration

**Sources:** [build/ci.go985-1032](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L985-L1032)

### Archive Creation

Archives are created with the `archive` command:

```
# Create tar.gz for Linux/macOS
go run build/ci.go archive -type tar -arch amd64

# Create zip for Windows
go run build/ci.go archive -type zip -arch amd64

# With code signing
go run build/ci.go archive -type tar -signer LINUX_SIGNING_KEY

# Upload to Azure Blob Storage
go run build/ci.go archive -type tar -upload gstablestore/builds
```

**Archive naming** [build/ci.go446-458](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L446-L458):

-   Format: `{platform}-{arch}-{version}.{ext}`
-   Platform: `linux`, `darwin`, `windows`, `freebsd`
-   Arch: `amd64`, `386`, `arm`, `arm64`
-   Version: from `params.ArchiveVersion(gitCommit)`
-   Examples: `linux-amd64-0.1.0-stable-abc12345.tar.gz`

**Signing** [build/ci.go460-498](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L460-L498):

-   PGP signature: `.asc` file generated with `build.PGPSignFile()`
-   Signify signature: `.sig` file generated with `signify.SignFile()`

**Sources:** [build/ci.go407-498](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L407-L498) [params/version.go44-56](https://github.com/stable-net/go-stablenet/blob/422cf168/params/version.go#L44-L56)

* * *

## Dependency Management

### Go Modules

StableNet uses Go modules for dependency management. Dependencies are specified in:

-   `go.mod` - Module definitions and version constraints
-   `go.sum` - Cryptographic checksums for reproducibility

### Checksum Database

Build-time dependencies (Go distributions, linters, test fixtures) are verified using [build/checksums.txt1-66](https://github.com/stable-net/go-stablenet/blob/422cf168/build/checksums.txt#L1-L66):

**Format:**

```
# version:golang 1.21.6
# https://go.dev/dl/
124926a62e45f78daabbaedb9c011d97633186a33c238ffc1e25320c02046248  go1.21.6.src.tar.gz
31d6ecca09010ab351e51343a5af81d678902061fee871f912bdd5ef4d778850  go1.21.6.darwin-amd64.tar.gz
...
```

**ChecksumDB operations** [internal/build/gotool.go135-151](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go#L135-L151):

-   `Version(csdb, "golang")` - Extracts version string
-   `DownloadFile(url, dst)` - Downloads and verifies checksum
-   Used by: `DownloadGo()`, `downloadLinter()`, `downloadSpecTestFixtures()`

**Sources:** [build/checksums.txt1-66](https://github.com/stable-net/go-stablenet/blob/422cf168/build/checksums.txt#L1-L66) [internal/build/gotool.go135-151](https://github.com/stable-net/go-stablenet/blob/422cf168/internal/build/gotool.go#L135-L151)

* * *

## Build Output Structure

After a successful build, the repository structure includes:

```
go-stablenet/
├── build/
│   ├── bin/                    # Compiled executables
│   │   ├── gstable             # Main node client
│   │   ├── genesis_generator   # Genesis tool
│   │   ├── abigen              # ABI generator
│   │   ├── bootnode            # Bootstrap node
│   │   ├── evm                 # EVM runner
│   │   ├── rlpdump             # RLP decoder
│   │   └── clef                # Account signer
│   ├── cache/                  # Downloaded dependencies
│   │   ├── go1.21.6.*.tar.gz   # Go distributions
│   │   ├── golangci-lint-*     # Linter binary
│   │   └── fixtures_*.tar.gz   # Test fixtures
│   └── _workspace/             # Temporary build artifacts
├── go.mod                      # Go module definition
└── go.sum                      # Dependency checksums
```

**Binary location:** `GOBIN` is set to `build/bin` in [build/ci.go148](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L148-L148)

**Sources:** [build/ci.go148-155](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L148-L155)

* * *

## Troubleshooting

### Common Build Issues

| Issue | Cause | Solution |
| --- | --- | --- |
| CGO_ENABLED=1 required | Cross-compilation needs CGO | Install target architecture's gcc |
| undefined reference to 'blst_*' | CKZG build tags missing | Add -tags ckzg or use default build |
| Module checksum mismatch | Corrupted download cache | Run go clean -modcache |
| Go version mismatch | System Go too old | Use -dlgo flag to download correct version |
| Docker build fails | Network restrictions | Configure proxy or use cache |

### Verifying Build Output

```
# Check version information
./build/bin/gstable version

# Verify build metadata
./build/bin/gstable version --json

# Test basic functionality
./build/bin/gstable --help
```

**Sources:** [params/version.go58-67](https://github.com/stable-net/go-stablenet/blob/422cf168/params/version.go#L58-L67) [build/ci.go200-246](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L200-L246)

* * *

## Summary

The StableNet build system provides:

1.  **Simple builds** via `make` for quick development
2.  **Advanced builds** via `build/ci.go` for CI/CD and packaging
3.  **Cross-compilation** support for Linux, macOS, Windows on multiple architectures
4.  **Automated CI/CD** with Travis CI and AppVeyor
5.  **Multiple distribution formats**: binaries, Docker images, Debian packages, Windows installer, archives
6.  **Reproducible builds** through checksummed dependencies and version metadata injection

For running the built node, proceed to [Node Configuration](/stable-net/go-stablenet/2.2-node-configuration). For creating genesis files, see [Genesis Setup](/stable-net/go-stablenet/2.3-genesis-setup-and-network-types).

**Sources:** [build/ci.go20-1165](https://github.com/stable-net/go-stablenet/blob/422cf168/build/ci.go#L20-L1165) [Makefile1-66](https://github.com/stable-net/go-stablenet/blob/422cf168/Makefile#L1-L66) [Dockerfile1-45](https://github.com/stable-net/go-stablenet/blob/422cf168/Dockerfile#L1-L45) [.travis.yml1-169](https://github.com/stable-net/go-stablenet/blob/422cf168/.travis.yml#L1-L169) [appveyor.yml1-58](https://github.com/stable-net/go-stablenet/blob/422cf168/appveyor.yml#L1-L58)

This wiki is featured in the [repository](https://github.com/stable-net/go-stablenet/blob/dev/README.md)

Dismiss

Refresh this wiki

This wiki was recently refreshed. Please wait 2 days to refresh again.

### On this page

-   [Installation and Building](#installation-and-building)
-   [Prerequisites](#prerequisites)
-   [Go Version Requirements](#go-version-requirements)
-   [System Dependencies](#system-dependencies)
-   [Linux](#linux)
-   [macOS](#macos)
-   [Windows](#windows)
-   [Build System Architecture](#build-system-architecture)
-   [Building from Source](#building-from-source)
-   [Quick Start with Makefile](#quick-start-with-makefile)
-   [Using build/ci.go](#using-buildcigo)
-   [Build Flags and Configuration](#build-flags-and-configuration)
-   [Build Metadata Injection](#build-metadata-injection)
-   [Conditional Build Tags](#conditional-build-tags)
-   [Build Executables and Tools](#build-executables-and-tools)
-   [Cross-Compilation](#cross-compilation)
-   [Supported Platforms](#supported-platforms)
-   [Cross-Compilation Commands](#cross-compilation-commands)
-   [CI/CD Pipeline](#cicd-pipeline)
-   [CI Configuration Files](#ci-configuration-files)
-   [Travis CI Build Matrix](#travis-ci-build-matrix)
-   [AppVeyor Build Matrix](#appveyor-build-matrix)
-   [Docker Builds](#docker-builds)
-   [Dockerfile Structure](#dockerfile-structure)
-   [Docker Image Tagging Strategy](#docker-image-tagging-strategy)
-   [Package Generation](#package-generation)
-   [Debian Packages](#debian-packages)
-   [Windows Installer (NSIS)](#windows-installer-nsis)
-   [Archive Creation](#archive-creation)
-   [Dependency Management](#dependency-management)
-   [Go Modules](#go-modules)
-   [Checksum Database](#checksum-database)
-   [Build Output Structure](#build-output-structure)
-   [Troubleshooting](#troubleshooting)
-   [Common Build Issues](#common-build-issues)
-   [Verifying Build Output](#verifying-build-output)
-   [Summary](#summary)

Ask Devin about stable-net/go-stablenet

Fast